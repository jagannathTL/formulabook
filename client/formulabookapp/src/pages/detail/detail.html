<ion-header *ngIf="(curRes$ | async)?.type != 'formulas'">
    <ion-navbar no-border-bottom>
		<ion-title small>{{(curRes$ | async)?.name}}</ion-title>
		<ion-buttons right>
			<button royal ion-button icon-only  (click)="onClose($event)">
				<ion-icon name="close"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>l
<ion-content *ngIf="(curRes$ | async)?.type != 'formulas'" id="detail-page">
    <div  [ngSwitch] = "(curRes$ | async)?.type">
        <template [ngSwitchCase]="'properties'">
            <ion-list>
                <fl-property  (save)="onSave($event)" [resource]="(curRes$ | async)"></fl-property>
            </ion-list>
        </template>
        <template [ngSwitchCase]="'units'">
            <ion-list>
                <fl-unit  (save)="onSave($event)" [property]="(Property$ | async)" [resource]="(curRes$ | async)"></fl-unit>
            </ion-list>
        </template>
        <template [ngSwitchCase]="'globals'">
            <ion-list>
                <fl-global  (save)="onSave($event)"  [resource]="(curRes$ | async)"></fl-global>
            </ion-list>
        </template>
        <template [ngSwitchCase]="'formulas'">
            <ion-list>
                <fl-formula  (save)="onSave($event)"  [resource]="(curRes$ | async)"></fl-formula>
            </ion-list>
        </template>
    </div>   
</ion-content>
<fl-formula  *ngIf="(curRes$ | async)?.type == 'formulas'"  (save)="onSave($event)"  [resource]="(curRes$ | async)"></fl-formula>
